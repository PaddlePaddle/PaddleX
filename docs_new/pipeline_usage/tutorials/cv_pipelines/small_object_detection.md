# å°ç›®æ ‡æ£€æµ‹äº§çº¿ä½¿ç”¨æ•™ç¨‹

## å°ç›®æ ‡æ£€æµ‹äº§çº¿ä»‹ç»
å°ç›®æ ‡æ£€æµ‹æ˜¯ä¸€ç§ä¸“é—¨è¯†åˆ«å›¾åƒä¸­ä½“ç§¯è¾ƒå°ç‰©ä½“çš„æŠ€æœ¯ï¼Œå¹¿æ³›åº”ç”¨äºç›‘æ§ã€æ— äººé©¾é©¶å’Œå«æ˜Ÿå›¾åƒåˆ†æç­‰é¢†åŸŸã€‚å®ƒèƒ½å¤Ÿä»å¤æ‚åœºæ™¯ä¸­å‡†ç¡®æ‰¾åˆ°å¹¶åˆ†ç±»åƒè¡Œäººã€äº¤é€šæ ‡å¿—æˆ–å°åŠ¨ç‰©ç­‰å°å°ºå¯¸ç‰©ä½“ã€‚é€šè¿‡ä½¿ç”¨æ·±åº¦å­¦ä¹ ç®—æ³•å’Œä¼˜åŒ–çš„å·ç§¯ç¥ç»ç½‘ç»œï¼Œå°ç›®æ ‡æ£€æµ‹å¯ä»¥æœ‰æ•ˆæå‡å¯¹å°ç‰©ä½“çš„è¯†åˆ«èƒ½åŠ›ï¼Œç¡®ä¿åœ¨å®é™…åº”ç”¨ä¸­ä¸é—æ¼é‡è¦ä¿¡æ¯ã€‚è¿™é¡¹æŠ€æœ¯åœ¨æé«˜å®‰å…¨æ€§å’Œè‡ªåŠ¨åŒ–æ°´å¹³æ–¹é¢å‘æŒ¥ç€é‡è¦ä½œç”¨ã€‚

![](https://rte.weiyun.baidu.com/wiki/attach/image/api/imageDownloadAddress?attachId=4c56ade92aac470e91ca82b938a5799d&docGuid=Ndigam7RLOxHoj "")
**å°ç›®æ ‡æ£€æµ‹äº§çº¿ä¸­åŒ…å«äº†å°ç›®æ ‡æ£€æµ‹æ¨¡å—ï¼Œå¦‚æ‚¨æ›´è€ƒè™‘æ¨¡å‹ç²¾åº¦ï¼Œè¯·é€‰æ‹©ç²¾åº¦è¾ƒé«˜çš„æ¨¡å‹ï¼Œå¦‚æ‚¨æ›´è€ƒè™‘æ¨¡å‹æ¨ç†é€Ÿåº¦ï¼Œè¯·é€‰æ‹©æ¨ç†é€Ÿåº¦è¾ƒå¿«çš„æ¨¡å‹ï¼Œå¦‚æ‚¨æ›´è€ƒè™‘æ¨¡å‹å­˜å‚¨å¤§å°ï¼Œè¯·é€‰æ‹©å­˜å‚¨å¤§å°è¾ƒå°çš„æ¨¡å‹**ã€‚

<details>
   <summary> ğŸ‘‰æ¨¡å‹åˆ—è¡¨è¯¦æƒ…</summary>

|æ¨¡å‹åç§°|mAPï¼ˆ%ï¼‰|GPUæ¨ç†è€—æ—¶ï¼ˆmsï¼‰|CPUæ¨ç†è€—æ—¶|æ¨¡å‹å­˜å‚¨å¤§å°ï¼ˆM)|
|-|-|-|-|-|
|PP-YOLOE_plus_SOD-S|25.1|65.4608|324.37|77.3 M|
|PP-YOLOE_plus_SOD-L|31.9|57.1448|1006.98|325.0 M|
|PP-YOLOE_plus_SOD-largesize-L|42.7|458.521|11172.7|340.5 M|
**æ³¨ï¼šä»¥ä¸Šç²¾åº¦æŒ‡æ ‡ä¸º **[VisDrone-DET](https://github.com/VisDrone/VisDrone-Dataset)** éªŒè¯é›† mAP(0.5:0.95)ã€‚**

</details>

## å¿«é€Ÿå¼€å§‹
PaddleX æ”¯æŒåœ¨æœ¬åœ°ä½¿ç”¨å‘½ä»¤è¡Œæˆ– Python ä½“éªŒå°ç›®æ ‡æ£€æµ‹äº§çº¿çš„æ•ˆæœã€‚

åœ¨æœ¬åœ°ä½¿ç”¨å°ç›®æ ‡æ£€æµ‹äº§çº¿å‰ï¼Œè¯·ç¡®ä¿æ‚¨å·²ç»æŒ‰ç…§[PaddleXæœ¬åœ°å®‰è£…æ•™ç¨‹](../../../installation/installation.md)å®Œæˆäº†PaddleXçš„wheelåŒ…å®‰è£…ã€‚

### 2.1 å‘½ä»¤è¡Œæ–¹å¼ä½“éªŒ
ä¸€è¡Œå‘½ä»¤å³å¯å¿«é€Ÿä½“éªŒå°ç›®æ ‡æ£€æµ‹äº§çº¿æ•ˆæœ 

```
paddlex --pipeline small_object_detection --input https://paddle-model-ecology.bj.bcebos.com/paddlex/imgs/demo_image/small_object_detection.jpg --device gpu:0
```
å‚æ•°è¯´æ˜ï¼š

```
--pipelineï¼šäº§çº¿åç§°ï¼Œæ­¤å¤„ä¸ºå°ç›®æ ‡æ£€æµ‹äº§çº¿
--inputï¼šå¾…å¤„ç†çš„è¾“å…¥å›¾ç‰‡çš„æœ¬åœ°è·¯å¾„æˆ–URL
--device ä½¿ç”¨çš„GPUåºå·ï¼ˆä¾‹å¦‚gpu:0è¡¨ç¤ºä½¿ç”¨ç¬¬0å—GPUï¼Œgpu:1,2è¡¨ç¤ºä½¿ç”¨ç¬¬1ã€2å—GPUï¼‰ï¼Œä¹Ÿå¯é€‰æ‹©ä½¿ç”¨CPUï¼ˆ--device cpuï¼‰
```
æ‰§è¡Œåï¼Œå°†æç¤ºé€‰æ‹©å°ç›®æ ‡æ£€æµ‹äº§çº¿é…ç½®æ–‡ä»¶ä¿å­˜è·¯å¾„ï¼Œé»˜è®¤ä¿å­˜è‡³*å½“å‰ç›®å½•*ï¼Œä¹Ÿå¯ *è‡ªå®šä¹‰è·¯å¾„*ã€‚

æ­¤å¤–ï¼Œä¹Ÿå¯åœ¨æ‰§è¡Œå‘½ä»¤æ—¶åŠ å…¥ -y å‚æ•°ï¼Œåˆ™å¯è·³è¿‡è·¯å¾„é€‰æ‹©ï¼Œç›´æ¥å°†äº§çº¿é…ç½®æ–‡ä»¶ä¿å­˜è‡³å½“å‰ç›®å½•ã€‚

è·å–äº§çº¿é…ç½®æ–‡ä»¶åï¼Œå¯å°† --pipeline æ›¿æ¢ä¸ºé…ç½®æ–‡ä»¶ä¿å­˜è·¯å¾„ï¼Œå³å¯ä½¿é…ç½®æ–‡ä»¶ç”Ÿæ•ˆã€‚ä¾‹å¦‚ï¼Œè‹¥é…ç½®æ–‡ä»¶ä¿å­˜è·¯å¾„ä¸º ./small_object_detection.yamlï¼Œåªéœ€æ‰§è¡Œï¼š

```
paddlex --pipeline ./small_object_detection.yaml --input https://paddle-model-ecology.bj.bcebos.com/paddlex/imgs/demo_image/small_object_detection.jpg
```
å…¶ä¸­ï¼Œ--modelã€--device ç­‰å‚æ•°æ— éœ€æŒ‡å®šï¼Œå°†ä½¿ç”¨é…ç½®æ–‡ä»¶ä¸­çš„å‚æ•°ã€‚è‹¥ä¾ç„¶æŒ‡å®šäº†å‚æ•°ï¼Œå°†ä»¥æŒ‡å®šçš„å‚æ•°ä¸ºå‡†ã€‚

è¿è¡Œåï¼Œå¾—åˆ°çš„ç»“æœä¸ºï¼š

```
{'img_path': '/root/.paddlex/predict_input/small_object_detection.jpg', 'boxes': [{'cls_id': 3, 'label': 'car', 'score': 0.9243856072425842, 'coordinate': [624, 638, 682, 741]}, {'cls_id': 3, 'label': 'car', 'score': 0.9206348061561584, 'coordinate': [242, 561, 356, 613]}, {'cls_id': 3, 'label': 'car', 'score': 0.9194547533988953, 'coordinate': [670, 367, 705, 400]}, {'cls_id': 3, 'label': 'car', 'score': 0.9162291288375854, 'coordinate': [459, 259, 523, 283]}, {'cls_id': 4, 'label': 'van', 'score': 0.9075379371643066, 'coordinate': [467, 213, 498, 242]}, {'cls_id': 4, 'label': 'van', 'score': 0.9066920876502991, 'coordinate': [547, 351, 577, 397]}, {'cls_id': 3, 'label': 'car', 'score': 0.9041045308113098, 'coordinate': [502, 632, 562, 736]}, {'cls_id': 3, 'label': 'car', 'score': 0.8934890627861023, 'coordinate': [613, 383, 647, 427]}, {'cls_id': 3, 'label': 'car', 'score': 0.8803309202194214, 'coordinate': [640, 280, 671, 309]}, {'cls_id': 3, 'label': 'car', 'score': 0.8727016448974609, 'coordinate': [1199, 256, 1259, 281]}, {'cls_id': 3, 'label': 'car', 'score': 0.8705748915672302, 'coordinate': [534, 410, 570, 461]}, {'cls_id': 3, 'label': 'car', 'score': 0.8654043078422546, 'coordinate': [669, 248, 702, 271]}, {'cls_id': 3, 'label': 'car', 'score': 0.8555219769477844, 'coordinate': [525, 243, 550, 270]}, {'cls_id': 3, 'label': 'car', 'score': 0.8522038459777832, 'coordinate': [526, 220, 553, 243]}, {'cls_id': 3, 'label': 'car', 'score': 0.8392605185508728, 'coordinate': [557, 141, 575, 158]}, {'cls_id': 3, 'label': 'car', 'score': 0.8353804349899292, 'coordinate': [537, 120, 553, 133]}, {'cls_id': 3, 'label': 'car', 'score': 0.8322211503982544, 'coordinate': [585, 132, 603, 147]}, {'cls_id': 3, 'label': 'car', 'score': 0.8298957943916321, 'coordinate': [701, 283, 736, 313]}, {'cls_id': 3, 'label': 'car', 'score': 0.8217393159866333, 'coordinate': [885, 347, 943, 377]}, {'cls_id': 3, 'label': 'car', 'score': 0.820313572883606, 'coordinate': [493, 150, 511, 168]}, {'cls_id': 0, 'label': 'pedestrian', 'score': 0.8183429837226868, 'coordinate': [203, 701, 224, 743]}, {'cls_id': 0, 'label': 'pedestrian', 'score': 0.815082848072052, 'coordinate': [185, 710, 201, 744]}, {'cls_id': 6, 'label': 'tricycle', 'score': 0.7892289757728577, 'coordinate': [311, 371, 344, 407]}, {'cls_id': 6, 'label': 'tricycle', 'score': 0.7812919020652771, 'coordinate': [345, 380, 388, 405]}, {'cls_id': 0, 'label': 'pedestrian', 'score': 0.7748346328735352, 'coordinate': [295, 500, 309, 532]}, {'cls_id': 0, 'label': 'pedestrian', 'score': 0.7688500285148621, 'coordinate': [851, 436, 863, 466]}, {'cls_id': 3, 'label': 'car', 'score': 0.7466475367546082, 'coordinate': [565, 114, 580, 128]}, {'cls_id': 3, 'label': 'car', 'score': 0.7156463265419006, 'coordinate': [483, 66, 495, 78]}, {'cls_id': 3, 'label': 'car', 'score': 0.704211950302124, 'coordinate': [607, 138, 642, 152]}, {'cls_id': 3, 'label': 'car', 'score': 0.7021926045417786, 'coordinate': [505, 72, 518, 83]}, {'cls_id': 0, 'label': 'pedestrian', 'score': 0.6897469162940979, 'coordinate': [802, 460, 815, 488]}, {'cls_id': 3, 'label': 'car', 'score': 0.671891450881958, 'coordinate': [574, 123, 593, 136]}, {'cls_id': 9, 'label': 'motorcycle', 'score': 0.6712754368782043, 'coordinate': [445, 317, 472, 334]}, {'cls_id': 0, 'label': 'pedestrian', 'score': 0.6695684790611267, 'coordinate': [479, 309, 489, 332]}, {'cls_id': 3, 'label': 'car', 'score': 0.6273623704910278, 'coordinate': [654, 210, 677, 234]}, {'cls_id': 3, 'label': 'car', 'score': 0.6070230603218079, 'coordinate': [640, 166, 667, 185]}, {'cls_id': 3, 'label': 'car', 'score': 0.6064521670341492, 'coordinate': [461, 59, 476, 71]}, {'cls_id': 3, 'label': 'car', 'score': 0.5860581398010254, 'coordinate': [464, 87, 484, 100]}, {'cls_id': 9, 'label': 'motorcycle', 'score': 0.5792551636695862, 'coordinate': [390, 390, 419, 408]}, {'cls_id': 3, 'label': 'car', 'score': 0.5559225678443909, 'coordinate': [481, 125, 496, 140]}, {'cls_id': 0, 'label': 'pedestrian', 'score': 0.5531904697418213, 'coordinate': [869, 306, 880, 331]}, {'cls_id': 0, 'label': 'pedestrian', 'score': 0.5468509793281555, 'coordinate': [895, 294, 904, 319]}, {'cls_id': 3, 'label': 'car', 'score': 0.5451828241348267, 'coordinate': [505, 94, 518, 108]}, {'cls_id': 3, 'label': 'car', 'score': 0.5398445725440979, 'coordinate': [657, 188, 681, 208]}, {'cls_id': 4, 'label': 'van', 'score': 0.5318890810012817, 'coordinate': [518, 88, 534, 102]}, {'cls_id': 3, 'label': 'car', 'score': 0.5296525359153748, 'coordinate': [527, 71, 540, 81]}, {'cls_id': 6, 'label': 'tricycle', 'score': 0.5168400406837463, 'coordinate': [528, 320, 563, 346]}, {'cls_id': 3, 'label': 'car', 'score': 0.5088561177253723, 'coordinate': [511, 84, 530, 95]}, {'cls_id': 0, 'label': 'pedestrian', 'score': 0.502006471157074, 'coordinate': [841, 266, 850, 283]}]}
```
![](https://rte.weiyun.baidu.com/wiki/attach/image/api/imageDownloadAddress?attachId=9be712c35f904d6994627e4d2fbbbc1e&docGuid=Ndigam7RLOxHoj "")
### 2.2 Pythonè„šæœ¬æ–¹å¼é›†æˆ 
å‡ è¡Œä»£ç å³å¯å®Œæˆäº§çº¿çš„å¿«é€Ÿæ¨ç†ï¼Œä»¥é€šç”¨å°ç›®æ ‡æ£€æµ‹äº§çº¿ä¸ºä¾‹ï¼š

```
from paddlex import create_pipeline

pipeline = create_pipeline(pipeline="small_object_detection")

output = pipeline.predict("https://paddle-model-ecology.bj.bcebos.com/paddlex/imgs/demo_image/small_object_detection.jpg")
for res in output:
    res.print() ## æ‰“å°é¢„æµ‹çš„ç»“æ„åŒ–è¾“å‡º
    res.save_to_img("./output/") ## ä¿å­˜ç»“æœå¯è§†åŒ–å›¾åƒ
    res.save_to_json("./output/") ## ä¿å­˜é¢„æµ‹çš„ç»“æ„åŒ–è¾“å‡º
```
å¾—åˆ°çš„ç»“æœä¸å‘½ä»¤è¡Œæ–¹å¼ç›¸åŒã€‚

åœ¨ä¸Šè¿° Python è„šæœ¬ä¸­ï¼Œæ‰§è¡Œäº†å¦‚ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š

* å®ä¾‹åŒ– `create_pipeline` å®ä¾‹åŒ–å°ç›®æ ‡æ£€æµ‹äº§çº¿å¯¹è±¡ï¼šå…·ä½“å‚æ•°è¯´æ˜å¦‚ä¸‹ï¼š

|å‚æ•°|å‚æ•°è¯´æ˜|å‚æ•°ç±»å‹|é»˜è®¤å€¼|
|-|-|-|-|
|pipeline|äº§çº¿åç§°æˆ–æ˜¯äº§çº¿é…ç½®æ–‡ä»¶è·¯å¾„ã€‚å¦‚ä¸ºäº§çº¿åç§°ï¼Œåˆ™å¿…é¡»ä¸º PaddleX æ‰€æ”¯æŒçš„äº§çº¿ã€‚|str|æ— |
|device|äº§çº¿æ¨¡å‹æ¨ç†è®¾å¤‡ã€‚æ”¯æŒï¼šâ€œgpuâ€ï¼Œâ€œcpuâ€ã€‚|str|gpu|
|enable_hpi|æ˜¯å¦å¯ç”¨é«˜æ€§èƒ½æ¨ç†ï¼Œä»…å½“è¯¥äº§çº¿æ”¯æŒé«˜æ€§èƒ½æ¨ç†æ—¶å¯ç”¨ã€‚|bool|False|
* è°ƒç”¨å°ç›®æ ‡æ£€æµ‹äº§çº¿å¯¹è±¡çš„ `predict` æ–¹æ³•è¿›è¡Œæ¨ç†é¢„æµ‹ï¼š`predict` æ–¹æ³•å‚æ•°ä¸º`x`ï¼Œç”¨äºè¾“å…¥å¾…é¢„æµ‹æ•°æ®ï¼Œæ”¯æŒå¤šç§è¾“å…¥æ–¹å¼ï¼Œå…·ä½“ç¤ºä¾‹å¦‚ä¸‹ï¼š

|å‚æ•°ç±»å‹|å‚æ•°è¯´æ˜|
|-|-|
|Python Var|æ”¯æŒç›´æ¥ä¼ å…¥Pythonå˜é‡ï¼Œå¦‚numpy.ndarrayè¡¨ç¤ºçš„å›¾åƒæ•°æ®ï¼›|
|str|æ”¯æŒä¼ å…¥å¾…é¢„æµ‹æ•°æ®æ–‡ä»¶è·¯å¾„ï¼Œå¦‚å›¾åƒæ–‡ä»¶çš„æœ¬åœ°è·¯å¾„ï¼š/root/data/img.jpgï¼›|
|str|æ”¯æŒä¼ å…¥å¾…é¢„æµ‹æ•°æ®æ–‡ä»¶urlï¼Œå¦‚å›¾åƒæ–‡ä»¶çš„ç½‘ç»œurlï¼šhttps://paddle-model-ecology.bj.bcebos.com/paddlex/imgs/demo_image/small_object_detection.jpgï¼›|
|str|æ”¯æŒä¼ å…¥æœ¬åœ°ç›®å½•ï¼Œè¯¥ç›®å½•ä¸‹éœ€åŒ…å«å¾…é¢„æµ‹æ•°æ®æ–‡ä»¶ï¼Œå¦‚æœ¬åœ°è·¯å¾„ï¼š/root/data/ï¼›|
|dict|æ”¯æŒä¼ å…¥å­—å…¸ç±»å‹ï¼Œå­—å…¸çš„keyéœ€è¦ä¸å…·ä½“äº§çº¿å¯¹åº”ï¼Œå¦‚å°ç›®æ ‡æ£€æµ‹äº§çº¿ä¸º"img"ï¼Œå­—å…¸çš„valæ”¯æŒä¸Šè¿°ç±»å‹æ•°æ®ï¼Œå¦‚ï¼š{"img": "/root/data1"}ï¼›|
|list|æ”¯æŒä¼ å…¥åˆ—è¡¨ï¼Œåˆ—è¡¨å…ƒç´ éœ€ä¸ºä¸Šè¿°ç±»å‹æ•°æ®ï¼Œå¦‚[numpy.ndarray, numpy.ndarray, ]ï¼Œ["/root/data/img1.jpg", "/root/data/img2.jpg", ]ï¼Œ["/root/data1", "/root/data2", ]ï¼Œ[{"img": "/root/data1"}, {"img": "/root/data2/img.jpg"}, ]ï¼›|

* è°ƒç”¨ predict æ–¹æ³•è·å–é¢„æµ‹ç»“æœï¼š`predict` æ–¹æ³•ä¸º`generator`ï¼Œå› æ­¤éœ€è¦é€šè¿‡è°ƒç”¨è·å¾—é¢„æµ‹ç»“æœï¼Œ`predict`æ–¹æ³•ä»¥ batch ä¸ºå•ä½å¯¹æ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œå› æ­¤é¢„æµ‹ç»“æœä¸º list å½¢å¼è¡¨ç¤ºçš„ä¸€ç»„é¢„æµ‹ç»“æœ
* å¯¹é¢„æµ‹ç»“æœè¿›è¡Œå¤„ç†ï¼šæ¯ä¸ªæ ·æœ¬çš„é¢„æµ‹ç»“æœå‡ä¸º dict ç±»å‹ï¼Œä¸”æ”¯æŒæ‰“å°ï¼Œæˆ–ä¿å­˜ä¸ºæ–‡ä»¶ï¼Œæ”¯æŒä¿å­˜çš„ç±»å‹ä¸å…·ä½“äº§çº¿ç›¸å…³ï¼Œå¦‚ï¼š

|æ–¹æ³•|è¯´æ˜|æ–¹æ³•å‚æ•°|
|-|-|-|
|print|æ‰“å°ç»“æœåˆ°ç»ˆç«¯|format_jsonï¼šboolç±»å‹ï¼Œæ˜¯å¦å¯¹è¾“å‡ºå†…å®¹è¿›è¡Œä½¿ç”¨jsonç¼©è¿›æ ¼å¼åŒ–ï¼Œé»˜è®¤ä¸ºTrueï¼›|
|||indentï¼šintç±»å‹ï¼Œjsonæ ¼å¼åŒ–è®¾ç½®ï¼Œä»…å½“format_jsonä¸ºTrueæ—¶æœ‰æ•ˆï¼Œé»˜è®¤ä¸º4ï¼›|
|||ensure_asciiï¼šboolç±»å‹ï¼Œjsonæ ¼å¼åŒ–è®¾ç½®ï¼Œä»…å½“format_jsonä¸ºTrueæ—¶æœ‰æ•ˆï¼Œé»˜è®¤ä¸ºFalseï¼›|
|save_to_json|å°†ç»“æœä¿å­˜ä¸ºjsonæ ¼å¼çš„æ–‡ä»¶|save_pathï¼šstrç±»å‹ï¼Œä¿å­˜çš„æ–‡ä»¶è·¯å¾„ï¼Œå½“ä¸ºç›®å½•æ—¶ï¼Œä¿å­˜æ–‡ä»¶å‘½åä¸è¾“å…¥æ–‡ä»¶ç±»å‹å‘½åä¸€è‡´ï¼›|
|||indentï¼šintç±»å‹ï¼Œjsonæ ¼å¼åŒ–è®¾ç½®ï¼Œé»˜è®¤ä¸º4;|
|||ensure_asciiï¼šboolç±»å‹ï¼Œjsonæ ¼å¼åŒ–è®¾ç½®ï¼Œé»˜è®¤ä¸ºFalseï¼›|
|save_to_img|å°†ç»“æœä¿å­˜ä¸ºå›¾åƒæ ¼å¼çš„æ–‡ä»¶|save_pathï¼šstrç±»å‹ï¼Œä¿å­˜çš„æ–‡ä»¶è·¯å¾„ï¼Œå½“ä¸ºç›®å½•æ—¶ï¼Œä¿å­˜æ–‡ä»¶å‘½åä¸è¾“å…¥æ–‡ä»¶ç±»å‹å‘½åä¸€è‡´ï¼›|

åœ¨æ‰§è¡Œä¸Šè¿° Python è„šæœ¬æ—¶ï¼ŒåŠ è½½çš„æ˜¯é»˜è®¤çš„å°ç›®æ ‡æ£€æµ‹äº§çº¿é…ç½®æ–‡ä»¶ï¼Œè‹¥æ‚¨éœ€è¦è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ï¼Œå¯æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è·å–ï¼š

```
paddlex --get_pipeline_config small_object_detection
```
æ‰§è¡Œåï¼Œå°ç›®æ ‡æ£€æµ‹äº§çº¿é…ç½®æ–‡ä»¶å°†è¢«ä¿å­˜åœ¨å½“å‰è·¯å¾„ã€‚è‹¥æ‚¨å¸Œæœ›è‡ªå®šä¹‰ä¿å­˜ä½ç½®ï¼Œå¯æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼ˆå‡è®¾è‡ªå®šä¹‰ä¿å­˜ä½ç½®ä¸º* ./my_path*ï¼‰ï¼š

```
paddlex --get_pipeline_config small_object_detection --config_save_path ./my_path
```
è·å–é…ç½®æ–‡ä»¶åï¼Œæ‚¨å³å¯å¯¹å°ç›®æ ‡æ£€æµ‹äº§çº¿å„é¡¹é…ç½®è¿›è¡Œè‡ªå®šä¹‰ï¼Œåªéœ€è¦ä¿®æ”¹ create_pipeline æ–¹æ³•ä¸­çš„ pipeline å‚æ•°å€¼ä¸ºäº§çº¿é…ç½®æ–‡ä»¶è·¯å¾„å³å¯ã€‚

ä¾‹å¦‚ï¼Œè‹¥æ‚¨çš„é…ç½®æ–‡ä»¶ä¿å­˜åœ¨ *./my_path/*small_object_detection*.yaml* ï¼Œåˆ™åªéœ€æ‰§è¡Œï¼š

```
from paddlex import create_pipeline
pipeline = create_pipeline(pipeline="./my_path/small_object_detection.yaml")
output = pipeline.predict("https://paddle-model-ecology.bj.bcebos.com/paddlex/imgs/demo_image/small_object_detection.jpg")
for res in output:
    res.print() ## æ‰“å°é¢„æµ‹çš„ç»“æ„åŒ–è¾“å‡º
    res.save_to_img("./output/") ## ä¿å­˜ç»“æœå¯è§†åŒ–å›¾åƒ
    res.save_to_json("./output/") ## ä¿å­˜é¢„æµ‹çš„ç»“æ„åŒ–è¾“å‡º
```
## å¼€å‘é›†æˆ/éƒ¨ç½²
å¦‚æœé€šç”¨å°ç›®æ ‡æ£€æµ‹äº§çº¿å¯ä»¥è¾¾åˆ°æ‚¨å¯¹äº§çº¿æ¨ç†é€Ÿåº¦å’Œç²¾åº¦çš„è¦æ±‚ï¼Œæ‚¨å¯ä»¥ç›´æ¥è¿›è¡Œå¼€å‘é›†æˆ/éƒ¨ç½²ã€‚

è‹¥æ‚¨éœ€è¦å°†é€šç”¨å°ç›®æ ‡æ£€æµ‹äº§çº¿ç›´æ¥åº”ç”¨åœ¨æ‚¨çš„ Python é¡¹ç›®ä¸­ï¼Œå¯ä»¥å‚è€ƒ 2.2 Pythonè„šæœ¬æ–¹å¼ ä¸­çš„ç¤ºä¾‹ä»£ç ã€‚

æ­¤å¤–ï¼ŒPaddleX ä¹Ÿæä¾›äº†å…¶ä»–ä¸‰ç§éƒ¨ç½²æ–¹å¼ï¼Œè¯¦ç»†è¯´æ˜å¦‚ä¸‹ï¼š

* é«˜æ€§èƒ½éƒ¨ç½²ï¼šåœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè®¸å¤šåº”ç”¨å¯¹éƒ¨ç½²ç­–ç•¥çš„æ€§èƒ½æŒ‡æ ‡ï¼ˆå°¤å…¶æ˜¯å“åº”é€Ÿåº¦ï¼‰æœ‰ç€è¾ƒä¸¥è‹›çš„æ ‡å‡†ï¼Œä»¥ç¡®ä¿ç³»ç»Ÿçš„é«˜æ•ˆè¿è¡Œä¸ç”¨æˆ·ä½“éªŒçš„æµç•…æ€§ã€‚ä¸ºæ­¤ï¼ŒPaddleX æä¾›é«˜æ€§èƒ½æ¨ç†æ’ä»¶ï¼Œæ—¨åœ¨å¯¹æ¨¡å‹æ¨ç†åŠå‰åå¤„ç†è¿›è¡Œæ·±åº¦æ€§èƒ½ä¼˜åŒ–ï¼Œå®ç°ç«¯åˆ°ç«¯æµç¨‹çš„æ˜¾è‘—æé€Ÿï¼Œè¯¦ç»†çš„é«˜æ€§èƒ½éƒ¨ç½²æµç¨‹è¯·å‚è€ƒ[PaddleX é«˜æ€§èƒ½éƒ¨ç½²æŒ‡å—](../../../pipeline_deploy/high_performance_deploy.md)ã€‚
* æœåŠ¡åŒ–éƒ¨ç½²ï¼šæœåŠ¡åŒ–éƒ¨ç½²æ˜¯å®é™…ç”Ÿäº§ç¯å¢ƒä¸­å¸¸è§çš„ä¸€ç§éƒ¨ç½²å½¢å¼ã€‚é€šè¿‡å°†æ¨ç†åŠŸèƒ½å°è£…ä¸ºæœåŠ¡ï¼Œå®¢æˆ·ç«¯å¯ä»¥é€šè¿‡ç½‘ç»œè¯·æ±‚æ¥è®¿é—®è¿™äº›æœåŠ¡ï¼Œä»¥è·å–æ¨ç†ç»“æœã€‚PaddleX æ”¯æŒç”¨æˆ·ä»¥ä½æˆæœ¬å®ç°äº§çº¿çš„æœåŠ¡åŒ–éƒ¨ç½²ï¼Œè¯¦ç»†çš„æœåŠ¡åŒ–éƒ¨ç½²æµç¨‹è¯·å‚è€ƒ[PaddleX æœåŠ¡åŒ–éƒ¨ç½²æŒ‡å—](../../../pipeline_deploy/service_deploy.md)ã€‚
* ç«¯ä¾§éƒ¨ç½²ï¼šç«¯ä¾§éƒ¨ç½²æ˜¯ä¸€ç§å°†è®¡ç®—å’Œæ•°æ®å¤„ç†åŠŸèƒ½æ”¾åœ¨ç”¨æˆ·è®¾å¤‡æœ¬èº«ä¸Šçš„æ–¹å¼ï¼Œè®¾å¤‡å¯ä»¥ç›´æ¥å¤„ç†æ•°æ®ï¼Œè€Œä¸éœ€è¦ä¾èµ–è¿œç¨‹çš„æœåŠ¡å™¨ã€‚PaddleX æ”¯æŒå°†æ¨¡å‹éƒ¨ç½²åœ¨ Android ç­‰ç«¯ä¾§è®¾å¤‡ä¸Šï¼Œè¯¦ç»†çš„ç«¯ä¾§éƒ¨ç½²æµç¨‹è¯·å‚è€ƒ[PaddleXç«¯ä¾§éƒ¨ç½²æŒ‡å—](../../../pipeline_deploy/lite_deploy.md)ã€‚
æ‚¨å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©åˆé€‚çš„æ–¹å¼éƒ¨ç½²æ¨¡å‹äº§çº¿ï¼Œè¿›è€Œè¿›è¡Œåç»­çš„ AI åº”ç”¨é›†æˆã€‚

## äºŒæ¬¡å¼€å‘
å¦‚æœé€šç”¨å°ç›®æ ‡æ£€æµ‹äº§çº¿æä¾›çš„é»˜è®¤æ¨¡å‹æƒé‡åœ¨æ‚¨çš„åœºæ™¯ä¸­ï¼Œç²¾åº¦æˆ–é€Ÿåº¦ä¸æ»¡æ„ï¼Œæ‚¨å¯ä»¥å°è¯•åˆ©ç”¨**æ‚¨è‡ªå·±æ‹¥æœ‰çš„ç‰¹å®šé¢†åŸŸæˆ–åº”ç”¨åœºæ™¯çš„æ•°æ®**å¯¹ç°æœ‰æ¨¡å‹è¿›è¡Œè¿›ä¸€æ­¥çš„**å¾®è°ƒ**ï¼Œä»¥æå‡å°ç›®æ ‡æ£€æµ‹äº§çº¿çš„åœ¨æ‚¨çš„åœºæ™¯ä¸­çš„è¯†åˆ«æ•ˆæœã€‚

### 4.1 æ¨¡å‹å¾®è°ƒ
ç”±äºé€šç”¨å°ç›®æ ‡æ£€æµ‹äº§çº¿åŒ…å«å°ç›®æ ‡æ£€æµ‹æ¨¡å—ï¼Œå¦‚æœæ¨¡å‹äº§çº¿çš„æ•ˆæœä¸åŠé¢„æœŸï¼Œé‚£ä¹ˆæ‚¨éœ€è¦å‚è€ƒ[å°ç›®æ ‡æ£€æµ‹æ¨¡å—å¼€å‘æ•™ç¨‹](../../../module_usage/tutorials/cv_modules/small_object_detection.md)ä¸­çš„**äºŒæ¬¡å¼€å‘**ç« èŠ‚ï¼Œä½¿ç”¨æ‚¨çš„ç§æœ‰æ•°æ®é›†å¯¹å°ç›®æ ‡æ£€æµ‹æ¨¡å‹è¿›è¡Œå¾®è°ƒã€‚

### 4.2 æ¨¡å‹åº”ç”¨
å½“æ‚¨ä½¿ç”¨ç§æœ‰æ•°æ®é›†å®Œæˆå¾®è°ƒè®­ç»ƒåï¼Œå¯è·å¾—æœ¬åœ°æ¨¡å‹æƒé‡æ–‡ä»¶ã€‚

è‹¥æ‚¨éœ€è¦ä½¿ç”¨å¾®è°ƒåçš„æ¨¡å‹æƒé‡ï¼Œåªéœ€å¯¹äº§çº¿é…ç½®æ–‡ä»¶åšä¿®æ”¹ï¼Œå°†å¾®è°ƒåæ¨¡å‹æƒé‡çš„æœ¬åœ°è·¯å¾„æ›¿æ¢è‡³äº§çº¿é…ç½®æ–‡ä»¶ä¸­çš„å¯¹åº”ä½ç½®å³å¯ï¼š

```
......
Pipeline:
  model: PP-YOLOE_plus_SOD-L  #å¯ä¿®æ”¹ä¸ºå¾®è°ƒåæ¨¡å‹çš„æœ¬åœ°è·¯å¾„
  batch_size: 1
  device: "gpu:0"
......
```
éšåï¼Œ å‚è€ƒ *2.2 æœ¬åœ°ä½“éªŒ* ä¸­çš„å‘½ä»¤è¡Œæ–¹å¼æˆ– Python è„šæœ¬æ–¹å¼ï¼ŒåŠ è½½ä¿®æ”¹åçš„äº§çº¿é…ç½®æ–‡ä»¶å³å¯ã€‚

##  å¤šç¡¬ä»¶æ”¯æŒ
PaddleX æ”¯æŒè‹±ä¼Ÿè¾¾ GPUã€æ˜†ä»‘èŠ¯ XPUã€æ˜‡è…¾ NPUå’Œå¯’æ­¦çºª MLU ç­‰å¤šç§ä¸»æµç¡¬ä»¶è®¾å¤‡ï¼Œ**ä»…éœ€ä¿®æ”¹ ****--device**** å‚æ•°**å³å¯å®Œæˆä¸åŒç¡¬ä»¶ä¹‹é—´çš„æ— ç¼åˆ‡æ¢ã€‚

ä¾‹å¦‚ï¼Œæ‚¨ä½¿ç”¨è‹±ä¼Ÿè¾¾ GPU è¿›è¡Œå°ç›®æ ‡æ£€æµ‹äº§çº¿çš„æ¨ç†ï¼Œä½¿ç”¨çš„ Python å‘½ä»¤ä¸ºï¼š

```
paddlex --pipeline multilabel_classification --input https://paddle-model-ecology.bj.bcebos.com/paddlex/imgs/demo_image/small_object_detection.jpg --device gpu:0
```
æ­¤æ—¶ï¼Œè‹¥æ‚¨æƒ³å°†ç¡¬ä»¶åˆ‡æ¢ä¸ºæ˜‡è…¾ NPUï¼Œä»…éœ€å¯¹ Python å‘½ä»¤ä¸­çš„ --device ä¿®æ”¹ä¸º npu å³å¯ï¼š

```
paddlex --pipeline multilabel_classification --input https://paddle-model-ecology.bj.bcebos.com/paddlex/imgs/demo_image/small_object_detection.jpg --device npu:0
```
è‹¥æ‚¨æƒ³åœ¨æ›´å¤šç§ç±»çš„ç¡¬ä»¶ä¸Šä½¿ç”¨é€šç”¨å°ç›®æ ‡æ£€æµ‹äº§çº¿ï¼Œè¯·å‚è€ƒ[PaddleXå¤šç¡¬ä»¶ä½¿ç”¨æŒ‡å—](../../../installation/installation_other_devices.md)ã€‚